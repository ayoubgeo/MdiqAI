"use strict";(()=>{var e={};e.id=445,e.ids=[445],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7147:e=>{e.exports=require("fs")},3685:e=>{e.exports=require("http")},5687:e=>{e.exports=require("https")},7561:e=>{e.exports=require("node:fs")},4492:e=>{e.exports=require("node:stream")},1017:e=>{e.exports=require("path")},5477:e=>{e.exports=require("punycode")},2781:e=>{e.exports=require("stream")},7310:e=>{e.exports=require("url")},3837:e=>{e.exports=require("util")},1267:e=>{e.exports=require("worker_threads")},9796:e=>{e.exports=require("zlib")},3409:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>_,originalPathname:()=>q,patchFetch:()=>m,requestAsyncStorage:()=>v,routeModule:()=>d,serverHooks:()=>x,staticGenerationAsyncStorage:()=>w,staticGenerationBailout:()=>h});var s={};r.r(s),r.d(s,{DELETE:()=>f,GET:()=>p,POST:()=>l});var a=r(5419),i=r(9108),o=r(9678),n=r(6795),u=r(7974);async function l(e){let t=(await e.formData()).get("file"),r=await c(),s=await u.f.files.create({file:t,purpose:"assistants"});return await u.f.beta.vectorStores.files.create(r,{file_id:s.id}),new Response}async function p(){let e=await c(),t=await u.f.beta.vectorStores.files.list(e),r=await Promise.all(t.data.map(async t=>{let r=await u.f.files.retrieve(t.id),s=await u.f.beta.vectorStores.files.retrieve(e,t.id);return{file_id:t.id,filename:r.filename,status:s.status}}));return Response.json(r)}async function f(e){let t=(await e.json()).fileId,r=await c();return await u.f.beta.vectorStores.files.del(r,t),new Response}let c=async()=>{let e=await u.f.beta.assistants.retrieve(n.B);if(e.tool_resources?.file_search?.vector_store_ids?.length>0)return e.tool_resources.file_search.vector_store_ids[0];let t=await u.f.beta.vectorStores.create({name:"sample-assistant-vector-store"});return await u.f.beta.assistants.update(n.B,{tool_resources:{file_search:{vector_store_ids:[t.id]}}}),t.id},d=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/assistants/files/route",pathname:"/api/assistants/files",filename:"route",bundlePath:"app/api/assistants/files/route"},resolvedPagePath:"D:\\CARTOINWGS84\\python\\Mdiq\\app\\api\\assistants\\files\\route.tsx",nextConfigOutput:"",userland:s}),{requestAsyncStorage:v,staticGenerationAsyncStorage:w,serverHooks:x,headerHooks:_,staticGenerationBailout:h}=d,q="/api/assistants/files/route";function m(){return(0,o.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:w})}},6795:(e,t,r)=>{r.d(t,{B:()=>s});let s="asst_42Lbu83x9NYCjqGpl9Yjqa6V";""===s&&(s=process.env.OPENAI_ASSISTANT_ID)},7974:(e,t,r)=>{r.d(t,{f:()=>s});let s=new(r(2917)).ZP}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,746],()=>r(3409));module.exports=s})();